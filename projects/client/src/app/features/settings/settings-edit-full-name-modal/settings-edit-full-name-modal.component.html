<app-settings-edit-modal
  *ngIf="user$ | async as user"
  headline="Full Name"
  [invalid]="form.invalid ?? true"
  (save)="onSave()"
>
  <form (ngSubmit)="onSave()" #form="ngForm">
    <mat-form-field class="w-full" appearance="standard">
      <input
        matInput
        name="name"
        type="text"
        autocomplete="name"
        validation="full-name"
        required
        [ngModel]="value ?? user.nickname"
        (ngModelChange)="value = $event"
        #model="ngModel"
      />
      <mat-error *ngIf="model | validationErrorMessage | async as message">
        {{ message }}
      </mat-error>
    </mat-form-field>
    <button hidden type="submit" [disabled]="form.invalid"></button>
  </form>
</app-settings-edit-modal>
